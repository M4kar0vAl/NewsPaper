{% extends 'flatpages/default.html'%}

{% load custom_filters %}

{% block title %}
Все новости
{% endblock title %}

{% block content %}
<h1>Все новости</h1>
<h5>Всего статей: {{posts|length}}</h5>
<hr>
{% if posts %}
    <table>
        <tr>
            <th width="400">Заголовок</th>
            <th width="150">Дата публикации</th>
            <th width="800">Preview</th>
        </tr>
        {% for post in posts %}
        <tr class="table-group-divider">
            <td>{{post.heading|censor}}</td>
            <td>{{post.created|date:'d M Y'}}</td>
            <td>{{post.text|censor|truncatewords:20}}</td>
        </tr>
        {% endfor %}
    </table>
{%else%}
<h2>Статей нет!</h2>
{% endif %}
{% endblock content %}